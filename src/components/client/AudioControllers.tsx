'use client'

import { useAudio } from "../../context/AudioContext";
import { useRef } from "react";

export function AudioControllers({
    hexColor
}: {
    hexColor?: string;
}) {
    const bunnyRef = useRef<HTMLInputElement>(null);
    const ppRef = useRef<HTMLInputElement>(null);
    const sunsetRef = useRef<HTMLInputElement>(null);
    const wavesRef = useRef<HTMLInputElement>(null);
    const { play, bunnySongIsPlaying, ppSongIsPlaying, sunsetSongIsPlaying, wavesSongIsPlaying } = useAudio();

    return (
        <div id="audio">
          <button className={bunnySongIsPlaying ? "active" : ''} id="bunny" onClick={() => play("bunny", bunnyRef.current!.value)}>
            <svg width="50" height="56" viewBox="0 0 50 56" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M4.42105 32.4211C4.42105 35.5158 5.12105 38.4263 6.52105 41.1526C7.92105 43.8789 9.87368 46.1509 12.3789 47.9684C12.1825 47.3789 12.0351 46.7772 11.9368 46.1632C11.8386 45.5491 11.7895 44.9474 11.7895 44.3579C11.7895 42.786 12.0842 41.3123 12.6737 39.9368C13.2632 38.5614 14.1228 37.3088 15.2526 36.1789L23.5789 28L31.9053 36.1789C33.0351 37.3088 33.8947 38.5614 34.4842 39.9368C35.0737 41.3123 35.3684 42.786 35.3684 44.3579C35.3684 44.9474 35.3193 45.5491 35.2211 46.1632C35.1228 46.7772 34.9754 47.3789 34.7789 47.9684C37.2842 46.1509 39.2368 43.8789 40.6368 41.1526C42.0368 38.4263 42.7368 35.5158 42.7368 32.4211C42.7368 29.7684 42.1719 27.1772 41.0421 24.6474C39.9123 22.1175 38.2912 19.7965 36.1789 17.6842C35.1474 18.4211 34.0667 18.9982 32.9368 19.4158C31.807 19.8333 30.6772 20.0421 29.5474 20.0421C26.5509 20.0421 24.0702 19.0228 22.1053 16.9842C20.1403 14.9456 19.1579 12.3789 19.1579 9.28421V7.81053C16.8982 9.43158 14.8596 11.2246 13.0421 13.1895C11.2246 15.1544 9.67719 17.2053 8.4 19.3421C7.12281 21.4789 6.14035 23.6649 5.45263 25.9C4.76491 28.1351 4.42105 30.3088 4.42105 32.4211ZM23.5789 34.1895L18.3474 39.3474C17.6596 40.0351 17.1316 40.7965 16.7632 41.6316C16.3947 42.4667 16.2105 43.3754 16.2105 44.3579C16.2105 46.3719 16.9228 48.0789 18.3474 49.4789C19.7719 50.8789 21.5158 51.5789 23.5789 51.5789C25.6421 51.5789 27.386 50.8789 28.8105 49.4789C30.2351 48.0789 30.9474 46.3719 30.9474 44.3579C30.9474 43.3754 30.7632 42.4667 30.3947 41.6316C30.0263 40.7965 29.4982 40.0351 28.8105 39.3474L23.5789 34.1895ZM23.5789 0V9.72632C23.5789 11.3965 24.1561 12.7965 25.3105 13.9263C26.4649 15.0561 27.8772 15.6211 29.5474 15.6211C30.4316 15.6211 31.2544 15.4368 32.0158 15.0684C32.7772 14.7 33.4526 14.1474 34.0421 13.4105L35.3684 11.7895C39.0035 13.8526 41.8772 16.7263 43.9895 20.4105C46.1017 24.0947 47.1579 28.0982 47.1579 32.4211C47.1579 39.0035 44.8737 44.5789 40.3053 49.1474C35.7368 53.7158 30.1614 56 23.5789 56C16.9965 56 11.4211 53.7158 6.85263 49.1474C2.28421 44.5789 0 39.0035 0 32.4211C0 26.1333 2.11228 20.0789 6.33684 14.2579C10.5614 8.43684 16.3088 3.68421 23.5789 0Z"
                fill={hexColor || "#323238"} />
            </svg>
            <input type="range" name="volumeBunny" id="volumeBunny" ref={bunnyRef} />
          </button>
    
          <button className={ppSongIsPlaying ? "active" : ''}  id="pp" onClick={() => play('pp', ppRef.current!.value)}>
              <svg width="51" height="56" viewBox="0 0 51 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M10.014 3.422c-0.651 0.009 -1.315 0.147 -2.007 0.442 -1.384 0.59 -2.236 1.535 -2.801 2.762 -0.565 1.226 -0.805 2.743 -0.808 4.312 -0.011 3.15 0.95 6.497 1.573 7.952 0.747 1.75 1.971 3.522 3.396 5.086l12.213 -5.206c-0.142 -2.122 -0.569 -4.222 -1.323 -5.983 -0.612 -1.455 -2.373 -4.462 -4.638 -6.631 -1.137 -1.084 -2.395 -1.96 -3.675 -2.401 -0.634 -0.221 -1.279 -0.342 -1.929 -0.331zM46.014 11.703c-1.203 0.011 -2.516 0.306 -3.806 0.787 -2.942 1.105 -5.731 3.183 -6.88 4.288 -1.367 1.313 -2.592 3.084 -3.555 4.977l9.188 9.581c1.936 -0.886 3.752 -2.023 5.13 -3.347 1.137 -1.105 3.336 -3.806 4.561 -6.694 0.612 -1.444 0.984 -2.931 0.952 -4.288 -0.044 -1.345 -0.459 -2.548 -1.498 -3.642 -1.039 -1.083 -2.22 -1.542 -3.577 -1.641 -0.164 -0.011 -0.339 -0.022 -0.514 -0.022zm-24.38 9.188 -10.776 4.594c0.429 0.394 0.855 0.766 1.293 1.116l9.395 -4.014c0.055 -0.558 0.088 -1.127 0.088 -1.695zm9.264 2.789c-0.219 0.536 -0.416 1.072 -0.591 1.597l7.066 7.383c0.536 -0.153 1.083 -0.328 1.63 -0.525zM21.219 24.872l-7.186 3.063c0.853 0.536 1.673 0.963 2.406 1.225 1.148 0.427 2.045 0.448 2.472 0.263 0.427 -0.186 1.028 -0.842 1.52 -1.958 0.317 -0.722 0.58 -1.608 0.787 -2.592zm8.498 2.636c-0.197 0.984 -0.306 1.903 -0.295 2.691 0.011 1.225 0.306 2.067 0.634 2.406 0.317 0.328 1.148 0.667 2.373 0.722 0.777 0.044 1.706 -0.022 2.691 -0.175zm-8.269 2.188c-0.47 0.689 -1.05 1.236 -1.772 1.542 -0.722 0.306 -1.509 0.35 -2.33 0.208 0.886 1.706 1.838 3.511 2.8 5.513 1.006 -0.995 1.925 -1.969 2.8 -2.909 -0.547 -1.531 -1.028 -2.975 -1.498 -4.353zm6.158 2.155c-3.62 4.036 -7.722 8.805 -15.192 14.186 -1.545 1.498 -1.225 2.92 -0.361 3.828 0.864 0.897 2.275 1.269 3.839 -0.208 5.688 -7.241 10.631 -11.134 14.82 -14.58 -0.82 -0.197 -1.531 -0.547 -2.078 -1.116 -0.547 -0.569 -0.864 -1.291 -1.028 -2.111zm-1.553 9.767c-0.919 0.831 -1.848 1.717 -2.811 2.68 0.689 1.925 1.367 4.025 1.991 6.366 0.864 1.98 2.319 2.188 3.467 1.695s1.991 -1.673 1.159 -3.664c-1.542 -2.538 -2.778 -4.889 -3.806 -7.077z"
                  fill={hexColor || "#323238"} />
                </svg>
            <input type="range" name="volumePp" id="volumePp" ref={ppRef} />
          </button>
    
          <button className={sunsetSongIsPlaying ? "active" : ''} id="sunset" onClick={() => play('sunset', sunsetRef.current!.value)}>
          <svg width="48" height="56" viewBox="0 0 48 56" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M3.922 30.4a21.28 21.28 0 1 1 40.797 0h-3.192a18.24 18.24 0 1 0 -34.403 0H3.922zM1.52 33.44h45.6q1.52 0 1.52 1.52t-1.52 1.52h-45.6Q0 36.48 0 34.96t1.52 -1.52zm12.16 6.08h21.28q1.52 0 1.52 1.52t-1.52 1.52H13.68q-1.52 0 -1.52 -1.52t1.52 -1.52z"
                fill={hexColor || "#323238"} />
            </svg>
            <input type="range" name="volumeSunset" id="volumeSunset" ref={sunsetRef} />
          </button>
    
          <button className={wavesSongIsPlaying ? "active" : ''} id="waves" onClick={() => play("waves", wavesRef.current!.value)}>
            <svg width="48" height="56" viewBox="0 0 48 56" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M5.742 14.907a2.25 2.25 0 0 1 0.351 -3.162c0.232 -0.184 2.355 -1.832 5.734 -2.677 3.179 -0.792 8.087 -0.996 13.418 2.562 7.545 5.03 13.784 0.164 13.845 0.115a2.25 2.25 0 0 1 2.811 3.514c-0.232 0.184 -2.355 1.832 -5.734 2.677a16.034 16.034 0 0 1 -3.883 0.482c-2.757 0 -6.054 -0.722 -9.536 -3.042 -7.545 -5.03 -13.784 -0.164 -13.845 -0.115a2.25 2.25 0 0 1 -3.162 -0.351Zm33.351 7.338c-0.063 0.051 -6.303 4.912 -13.845 -0.115 -5.333 -3.555 -10.242 -3.354 -13.418 -2.562 -3.38 0.843 -5.505 2.49 -5.734 2.677a2.25 2.25 0 1 0 2.811 3.514c0.063 -0.051 6.303 -4.912 13.845 0.115 3.482 2.321 6.779 3.042 9.536 3.042a16.034 16.034 0 0 0 3.883 -0.482c3.38 -0.843 5.505 -2.49 5.734 -2.677a2.25 2.25 0 0 0 -2.811 -3.514Zm0 10.5c-0.063 0.051 -6.303 4.912 -13.845 -0.115 -5.333 -3.555 -10.242 -3.354 -13.418 -2.562 -3.38 0.843 -5.505 2.49 -5.734 2.677a2.25 2.25 0 1 0 2.811 3.514c0.063 -0.051 6.303 -4.912 13.845 0.115 3.482 2.321 6.779 3.042 9.536 3.042a16.034 16.034 0 0 0 3.883 -0.482c3.38 -0.843 5.505 -2.49 5.734 -2.677a2.25 2.25 0 1 0 -2.811 -3.514Z"
                fill={hexColor || "#323238"} />
            </svg>
            <input type="range" name="volumeWaves" id="volumeWaves" ref={wavesRef} />
          </button>
        </div>
    )
}
